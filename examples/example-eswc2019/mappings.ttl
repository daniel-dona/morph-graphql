@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix rmlc: <http://www.oeg-upm.net/ns/rmlc#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix ex: <http://www.example.com/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix schema: <http://schema.org/>.

<TriplesMapPerson>
	rml:logicalSource [
		rml:source  "https://raw.githubusercontent.com/oeg-upm/mapping-translator/master/examples/example-eswc2019/authors.csv";
	];

	rr:subjectMap [
		rr:template "http://ex.org/Person/{id}";
		rr:class schema:Person
	];

	rr:predicateObjectMap [
	  rr:predicate schema:name;
	  rr:objectMap    [ rml:template "{fname} {lname}" ]
	];
	
	rr:predicateObjectMap [
	  rr:predicate schema:email;
	  rr:objectMap    [ rml:reference "email" ]
	];
	
.

<TriplesMapComments>
	rml:logicalSource [
		rml:source  "https://raw.githubusercontent.com/oeg-upm/mapping-translator/master/examples/example-eswc2019/comments.csv";
	];

	rr:subjectMap [
		rr:template "http://ex.org/Comment/{id}";
		rr:class schema:SocialMediaPosting
	];

	rr:predicateObjectMap [
	  rr:predicate schema:comment;
	  rr:objectMap    [ rml:reference "comment" ]
	];
	
	rr:predicateObjectMap [
	  rr:predicate schema:date;
	  rr:objectMap    [ rml:reference "date" ]
	];
	
	rr:predicateObjectMap [
	  rr:predicate schema:author;
	  rr:objectMap    [
	    rr:parentTriplesMap <TriplesMapPerson>;
	    rr:joinCondition [
	        rmlc:child [
	            rml:reference "author"
	        ];
	        rmlc:parent [
	            rml:reference "id"
	        ];
	    ];
	   ];
	];


.
